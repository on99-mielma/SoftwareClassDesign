<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Firtst Try</title>
    <style type="text/css">
        p{
            background-color: #D0E4F5;
            background-repeat: no-repeat;
            color:pink;
            font-size: x-large;
            letter-spacing: 5px;
            border-width: 1px;
            border-style: double;
            border-color: rgba(32,164,69,0.46);
            text-align: center;
        }
        .class1{
            color:greenyellow;
            background: #00A4A3;
            background: -moz-linear-gradient(left, #00A4A3 0%, #CBC800 47%, #CB00B5 100%);
            background: -webkit-linear-gradient(left, #00A4A3 0%, #CBC800 47%, #CB00B5 100%);
            background: linear-gradient(to right, #00A4A3 0%, #CBC800 47%, #CB00B5 100%);
            -webkit-box-shadow: 0px 0px 24px 15px rgba(70,255,118,0.8);
            box-shadow: 0px 0px 24px 15px rgba(70,255,118,0.8);
            vertical-align:middle;
            padding: 5px 20px;
        }
        .btn_delete {
            text-align: center;
            padding: 10px 30px;
            color: rgb(255, 255, 255); font-size: 23px; line-height: 23px; padding: 7px; border-radius: 10px; font-family: Georgia, serif; font-weight: normal; text-decoration: none; font-style: normal; font-variant: normal; text-transform: none; background-image: linear-gradient(to right, rgb(0, 164, 163) 0%, rgb(203, 200, 0) 47%, rgb(203, 0, 181) 100%); box-shadow: rgba(70, 255, 118, 0.8) 0px 0px 24px 15px; border: 2px solid rgb(28, 110, 164); display: inline-block;}
        .btn_delete:hover {
            background: #00A4A3; }
        .btn_delete:active {
            background: #CB00B5; }
    </style>
</head>
<body>
<input type="text" id="uName"></input><button id="btn2">uId</button>
<br>
<button id="btn">axios使用get提交数据</button>
<br>
<br>
name:<input type="text" id="the_name" required="true">
<br>
password:<input type="text" id="the_password" required="true">
<br>
school:<input type="text" id="the_school" required="true">
<br>
department:<input type="text" id="the_department" required="true">
<br>
<button id="btn_post">axios post</button>
<br>
<br>
<div id="put">
    id:<input type="text" id="put_id" required="true">
    <br>
    name:<input type="text" id="put_name" required="true">
    <br>
    pw:<input type="text" id="put_pw" required="true">
    <br>
    sc:<input type="text" id="put_sc" required="true">
    <br>
    de:<input type="text" id="put_de" required="true">
    <br>
    <button id = "btn_put">axios_put</button>
</div>
<div id="delete">
    <p>DELETE</p>
    <br>
    <input type="text" id="delete_id"   class="class1">
    <br><br><br>
    <button id="btn_delete" class="btn_delete">axios_delete</button>
</div>
<br>
<button id="hreff" class="btn_delete" onclick="ass()"></button>
<ul>
    <li class="">
        <a class="ellipsis" data-src="/Uploads/Picture/2018/01/05/s5a4f5e33408e3.jpg" href="/department_neikxx.html" data-title="" data-alt="" data-h="内科学系" data-p="北京协和医院内科学系自1921年建院之初即成立，是最早成立的临床科室之一，也是中国现代内科学的发源地。百年沧桑..."><i></i>内科学系</a>
    </li>									<li>
    <a class="ellipsis" data-src="/Uploads/Picture/2020/03/10/s5e67516507458.jpg" href="/department_xinnk.html" data-title="心内科" data-alt="心内科" data-h="心内科" data-p="      北京协和医院心内科历史悠久，是我国心血管病学科发展的摇篮。1921年6月北京协和医院使用弦线式心电..."><i></i>心内科</a>
</li>									<li>
    <a class="ellipsis" data-src="/Uploads/Picture/2017/12/06/s5a27d10e6e1d5.jpg" href="/department_huxnk.html" data-title="呼吸内科" data-alt="" data-h="呼吸与危重症医学科" data-p="      北京协和医院呼吸内科是由我国已故著名呼吸病学专家——朱贵卿教授创建的、具有悠久历史的学科专业。作为..."><i></i>呼吸与危重症医学科</a>
</li>									<li class="on">
    <a class="ellipsis" data-src="/Uploads/Picture/2017/12/21/s5a3b1fa71aadf.jpg" href="/department_xiaohnk.html" data-title="" data-alt="" data-h="消化内科" data-p="      消化内科是北京协和医院成立最早的专科之一，由我国现代内科学泰斗张孝骞教授和著名消化病专家陈敏章教授..."><i></i>消化内科</a>
</li>									<li class="">
    <a class="ellipsis" data-src="/Uploads/Picture/2017/12/18/s5a3793ae0388a.jpg" href="/department_shennk.html" data-title="" data-alt="" data-h="肾内科" data-p="      1979年，肾脏病学在中国作为一个崭新的学科才刚刚起步,毕增祺教授有远见的创立了北京协和医院内科肾..."><i></i>肾内科</a>
</li>									<li class="">
    <a class="ellipsis" data-src="/Uploads/Picture/2017/12/06/s5a27a8b15b2ee.jpeg" href="/department_xueynk.html" data-title="2016年血液内科全科合影" data-alt="" data-h="血液内科" data-p="      北京协和医院血液科具有悠久的历史，是我国现代血液学的先驱者，也是我国培养血液学专业人才的最早基地。..."><i></i>血液内科</a>
</li>									<li class="">
    <a class="ellipsis" data-src="/Uploads/Picture/2017/12/10/s5a2d1c9d55aad.jpg" href="/department_fengsmyk.html" data-title="" data-alt="" data-h="风湿免疫科" data-p="      北京协和医院风湿免疫科由“中国风湿病学之父”张乃峥教授于 1980 年建科，以“科研为龙头，教学为..."><i></i>风湿免疫科</a>
</li>									<li class="">
    <a class="ellipsis" data-src="/Uploads/Picture/2017/12/21/s5a3b2227481d4.png" href="/department_ganrnk.html" data-title="" data-alt="" data-h="感染内科" data-p="      北京协和医院感染科是北京协和医院最早成立的科室之一，在老一批传染病专家的传承带领下，感染科历届主任..."><i></i>感染内科</a>
</li>									<li>
    <a class="ellipsis" data-src="/Uploads/Picture/2018/01/05/s5a4f2c85bf147.jpg" href="/department_putnk.html" data-title="" data-alt="" data-h="全科医学科（普通内科）" data-p="      北京协和医院全科医学科（普通内科）的建立起始于美国纽约中华医学基金会项目“面向21世纪建设高质量、..."><i></i>全科医学科（普通内科）</a>
</li>									<li class="">
    <a class="ellipsis" data-src="/Uploads/Picture/2017/12/18/s5a379305a0a78.jpg" href="/department_zhonglnk.html" data-title="科室医生合影" data-alt="" data-h="肿瘤内科" data-p="      北京协和医院肿瘤内科是国家卫计委临床重点专科建设项目科室。现有教授1名、副教授6名、主治医师10名..."><i></i>肿瘤内科</a>
</li>									<li class="">
    <a class="ellipsis" data-src="/Uploads/Picture/2017/12/13/s5a30c591e580f.JPG" href="/department_micu.html" data-title="" data-alt="" data-h="MICU" data-p="      北京协和医院MICU成立于2005年，隶属于协和医院内科，为一个主要收治各种内科重症患者的综合性I..."><i></i>MICU</a>
</li>									<li class="">
    <a class="ellipsis" data-src="/Uploads/Picture/2019/03/20/s5c91e0571370a_402_295_0_28.jpg" href="/department_laonsfbf.html" data-title="" data-alt="" data-h="老年医学科" data-p="　　老年医学科隶属于大内科，其临床医生均有7年以上的临床经验，均完成了内科各专业组和急诊的轮转学习。现有主任医..."><i></i>老年医学科</a>
</li>									<li class="">
    <a class="ellipsis" data-src="/Uploads/Picture/2017/12/18/s5a37904d93891.jpg" href="/department_neifmk.html" data-title="" data-alt="" data-h="内分泌科" data-p="      北京协和医院内分泌科的发展是伴随着北京协和医院的历史脚步而前行的。1921年，北京协和医院正式落成..."><i></i>内分泌科</a>
</li>									<li class="">
    <a class="ellipsis" data-src="/Uploads/Picture/2017/12/18/s5a375655a9399.jpg" href="/department_zhongzylk.html" data-title="2017年重症医学科合影" data-alt="" data-h="重症医学科（ICU）" data-p="                      千锤百炼始成钢，百炼成钢绕指柔
                ..."><i></i>重症医学科（ICU）</a>
</li>									<li class="">
    <a class="ellipsis" data-src="/Uploads/Picture/2017/12/21/s5a3b22891ca6d.jpg" href="/department_erk.html" data-title="" data-alt="" data-h="儿科" data-p="　　北京协和医院儿科成立于北京协和医院建院之初的1921年，孕育了中国儿科发展的奠基人和多位儿科大家，是中国现..."><i></i>儿科</a>
</li>									<li class="">
    <a class="ellipsis" data-src="/Uploads/Picture/2017/12/21/s5a3b231177054.jpg" href="/department_shenjk.html" data-title="" data-alt="" data-h="神经科" data-p="　　北京协和医院神经科成立于1921年，历经90余载风雨，已经成为全国久负盛名的神经专科，是国内最早的神经病学..."><i></i>神经科</a>
</li>									<li class="">
    <a class="ellipsis" data-src="/Uploads/Picture/2017/12/21/s5a3b23694eb32.jpg" href="/department_xinlyxk.html" data-title="" data-alt="" data-h="心理医学科" data-p="　　北京协和医院心理医学科是在北京协和医院心理生理中心的基础上重组成立的。科室重组成立于2006年5月。我科采..."><i></i>心理医学科</a>
</li>									<li class="">
    <a class="ellipsis" data-src="/Uploads/Picture/2017/12/21/s5a3b2ba9b5d86.jpg" href="/department_pifk.html" data-title="" data-alt="" data-h="皮肤科" data-p="　　北京协和医院皮肤科成立于1924年，是我国最早的皮肤性病学科之一。首任主任Dr. Chester N. F..."><i></i>皮肤科</a>
</li>									<li class="">
    <a class="ellipsis" data-src="/Uploads/Picture/2017/12/21/s5a3b23b030188.jpg" href="/department_biantfyk.html" data-title="" data-alt="" data-h="变态反应科" data-p="　　北京协和医院变态反应科是中国临床变态反应学的发源地和摇篮。
　　1938年，我院张庆松教授赴美深造，在学..."><i></i>变态反应科</a>
</li>									<li class="">
    <a class="ellipsis" data-src="/Uploads/Picture/2017/12/11/s5a2e99b45e1f8.jpg" href="/department_jizk.html" data-title="" data-alt="" data-h="急诊科" data-p="      北京协和医院急诊科承担着院内急诊与急救服务重任，从1983年建科以来，经过30余年的建设与发展，急..."><i></i>急诊科</a>
</li>									<li class="">
    <a class="ellipsis" data-src="/Uploads/Picture/2017/12/21/s5a3b23e6ba3c8.jpg" href="/department_zhongyk.html" data-title="" data-alt="" data-h="中医科" data-p="　　北京协和医院中医办公室成立于1955年，1961年正式命名中医科，当时由著名中西医结合专家史济招教授担任科..."><i></i>中医科</a>
</li>									<li class="">
    <a class="ellipsis" data-src="/Uploads/Picture/2017/12/14/s5a3215efa0b00.jpg" href="/department_wulyxkfk.html" data-title="" data-alt="" data-h="康复医学科" data-p="　　1921年，北京协和医院成立，同年，时任神经科主任的美国人Andrew H Woods教授创立了理疗室，开..."><i></i>康复医学科</a>
</li>									<li class="">
    <a class="ellipsis" data-src="/Uploads/Picture/2017/12/19/s5a38842e45a4a.JPG" href="/department_yingyb.html" data-title="" data-alt="" data-h="临床营养科" data-p="        北京协和医院临床营养科由原营养科和肠外肠内营养科合并组成。
	北京协和医院营养科具有悠久历史..."><i></i>临床营养科</a>
</li>							</ul>
</body>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
    function ass(){
        location.assign("/pages/books.html");
    }
</script>
<script>
    var btn = document.querySelector("#btn");
    btn.addEventListener("click",function (params) {
        var url = "/users/";
        var paramsobj = {uId:1};
        axios.get(url,{params:paramsobj}).then(function (res) {
            var data = res.data;
            console.log(data);
        });
    });
</script>
<script>
    var btn2 = document.querySelector("#btn2");
    btn2.addEventListener("click",function (params){
        let username = document.getElementById('uName').value;
        var url = "/users/"+username;
        console.log(url);
        var p = {'uId':1};
        axios.get(url,{params:p}).then(function (res){
            var data = res.data;
            console.log(data);
        });
    });
</script>
<!--<script type="text/javascript">
    function SubmitUserInfo() {
        let username = document.getElementById('uName').value;
        axios({
            method: 'get',//提交方法
            url: '/users',//提交地址
            params: {
                uId:username
            }
        }).then((res) => {
            console.log(res);
            alert('提交成功！');
        })
    }
</script>-->
<script>
    /*document.querySelector("#btn_post").addEventListener("click",function (params){
        var url = "/users";
        let uName = document.getElementById('the_name').value;
        let uPw = document.getElementById('the_password').value;
        let uSchool = document.getElementById('the_school').value;
        let uDepartment = document.getElementById('the_department').value;
        console.log(url);
        console.log(uName);
        console.log(uPw);
        console.log(uSchool);
        console.log(uDepartment);
        var p = {
            "uName":uName,
            "uPw":uPw,
            "uSchool":uSchool,
            "uDepartment":uDepartment
        }
        console.log(p)
        axios.post(url,{params:p}).then(function (res){
            console.log(res.data);
        });
    });*/
    document.querySelector("#btn_post").addEventListener("click",function (params) {
        var url = "/users";
        let uName = document.getElementById('the_name').value;
        let uPw = document.getElementById('the_password').value;
        let uSchool = document.getElementById('the_school').value;
        let uDepartment = document.getElementById('the_department').value;
        console.log(url);
        console.log(uName);
        console.log(uPw);
        console.log(uSchool);
        console.log(uDepartment);
        var p = {
            "uName":uName,
            "uPw":uPw,
            "uSchool":uSchool,
            "uDepartment":uDepartment
        }
        console.log(p)
        axios({
            url:url,
            method:'POST',
            data:JSON.stringify(p),
            headers:{
                'Content-Type': 'application/json;charset=UTF-8'
                /*'Content-Type': 'application/json;charset=UTF-8'*/
            }
        }).then(function (res) {
            console.log(res.data);
        });
    });
</script>
<script>
    document.querySelector("#btn_put").addEventListener("click",function (params) {
        var url = "/users/";
        var u1Id = document.getElementById('put_id').value;
        let u1Name = document.getElementById('put_name').value;
        var u1Pw = document.getElementById('put_pw').value;
        var u1School = document.getElementById('put_sc').value;
        var u1Department = document.getElementById('put_de').value;
        /*if(u1Name == null || "" === u1Name){
            console.log("uName stop...")
            return;
        }
        if(u1Pw == null || "" === u1Pw){
            console.log("uPw stop...")
            return;
        }
        if(u1School == null || "" === u1School){
            console.log("uSc stop...")
            return;
        }
        if(u1Department == null || "" === u1Department){
            console.log("uDe stop...")
            return;
        }*/
        /*axios({
            url : url+u1Id,
            method : 'GET'
        }).then(function (res){
            console.log(res.data.code);
            console.log(res.data.msg);
            console.log(res.data.data.uName)
            // console.log(res.data.data['uDepartment'])
            if(u1Name == null || "" === u1Name){
                console.log("uName up...")
                console.log(res.data.data['uName'])
                this.uName = res.data.data['uName'];
            }
            if(u1Pw == null || "" === u1Pw){
                console.log("uPw up...")
                console.log(res.data.data['uPw'])
                u1Pw += res.data.data['uPw'];
            }
            if(u1School == null || "" === u1School){
                console.log("uSc up...")
                console.log(res.data.data['uSchool'])
                u1School = res.data.data['uSchool'];
                document.getElementById('put_sc').value = res.data.data['uSchool'];
            }
            if(u1Department == null || "" === u1Department){
                console.log("uDe up...")
                console.log(res.data.data['uDepartment'])
                u1Department = res.data.data['uDepartment'];
            }
        });*/
        console.log(url);
        console.log(u1Id);
        console.log(u1Name);
        console.log(u1Pw);
        console.log(u1School);
        console.log(u1Department);
        var p = {
            "uId":u1Id,
            "uName":u1Name,
            "uPw":u1Pw,
            "uSchool":u1School,
            "uDepartment":u1Department
        }
        console.log(p);
        axios({
            url:url,
            method:'PUT',
            data:JSON.stringify(p),
            headers:{
                'Content-Type': 'application/json;charset=UTF-8'
                /*'Content-Type': 'application/json;charset=UTF-8'*/
            }
        }).then(function (res) {
            console.log(res.data);
        });
        document.getElementById('put_id').value = null;
        document.getElementById('put_name').value = null;
        document.getElementById('put_pw').value = null;
        document.getElementById('put_sc').value = null;
        document.getElementById('put_de').value = null;
    });
</script>
<script>
    document.querySelector("#btn_delete").addEventListener("click",function (params){
        var url = "/users/";
        var delete_id = document.getElementById("delete_id").value;
        console.log(delete_id);
        if(delete_id==null||delete_id===''){
            console.log("输入为空");return null;}
        axios({
            url:url+delete_id,
            method:'DELETE'
        }).then(function (res){
            console.log(res.data);
        });
        document.getElementById("delete_id").value = null;
    });
</script>
</html>