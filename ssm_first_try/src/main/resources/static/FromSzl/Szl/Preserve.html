<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>预约挂号</title>

    <link rel="stylesheet" href="../assets/bootstrap-4.6.1-dist/bootstrap-4.6.1/dist/css/bootstrap.css">
    <link rel="stylesheet" href="../assets/css/vendor/Style_szl_homepage.css">
    <link rel="stylesheet" href="../assets/css/vendor/demo.css">
    <link rel="stylesheet" href="../assets/css/vendor/theme.css">

    <style>
        .padding_for_card{
            padding-left: 5px;
            padding-right: 5px;
            padding-bottom: 10px;
        }
        .no_padding{
            padding: 0 0 0 0;
        }
        .no_radius{
            border-radius: 0;
        }
        .divider{
            height:0;
            margin:.5rem 0 5rem;
            overflow:hidden;
            border-top:1px outset #cc3300;
            opacity: 30%;
            finishopacity:0;
            style:2;
        }
        .intro{
            width: 80%;
            height: 40%;
        }
        .intro_img{
            width: max(50%,13rem);
            height: auto;
        }
        .intro_img img{
            width: 100%;
            height: auto;
        }
        .intro_text{

        }
        html,body{
            height: 100%;
        }

    </style>
</head>
<body>

<!--头部导航-->
<div class="container no_padding home_inter_part" style="width: 100%;max-width: 2200px">

    <nav class="navbar navbar-expand-md navbar-dark" style="background-color: #f0ad4e;">

        <div style="margin-left: max(20%,5rem)">
            <a class="navbar-brand" style="color: black;" href="Homepage_szl.html"><img src="../assets/img/home.png" style="width: 5rem;height: 5rem;"></a>
        </div>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar" style="background-color: #f0ad4e ">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="collapsibleNavbar" style="background-color: #f0ad4e;opacity: 50%" >

            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="Preserve.html" style="color: black;" >预约挂号</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="resume.html" style="color: black;" >求职通道</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="ArticleList.html" style="color: black" onclick="goBillboard()">医院公告</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="ArticleList.html" style="color: black" onclick="goNews()">动态新闻</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="ArticleList.html" style="color: black" onclick="goKnowledge()">健康科普</a>
                </li>
            </ul>
        </div>
    </nav>
</div>

<!--面包导航-->
<div style="margin-left: 16rem;margin-bottom: 2rem">
    <nav class="breadcrumb" style="background-color: white">
        <a class="breadcrumb-item" style="text-decoration: none" href="Homepage_szl.html">首页</a>
        <span class="breadcrumb-item active">挂号界面</span>
    </nav>
</div>
<!--分割线-->
<div class="container-fluid" style="width:100%;max-width: 1400px;">
    <div class="divider"></div>
</div>

<!--选择表单-->
<div id="preserve" class="container-fluid home_inter_part" style="width: 75%;max-width: 1800px">

    <!--科室-->
    <h3 class="" style="padding-left: 20%">选择科室</h3>
    <div class="row guide_inter_row justify-content-center" v-for="list in dpmlist" >
        <!--click展示医生,同时在locol保存选择的科室-->
        <div class="col-lg-2 " v-for="dpm in list">
            <button class="btn btn-block btn-outline-secondary shadow-sm" @click="get_Doc(dpm.id,dpm.officeName);removeDocAndTimeChoose()">{{ dpm.officeName }}</button>
        </div>
    </div>

    <!--医生-->
    <h3 class="" style="padding-left: 20%">选择医生</h3>
    <div id="" class="row guide_inter_row justify-content-center" v-for="list in DocInDpm">

        <!--在change_img_html中根据元素id改变图片-->
        <div class="col-lg-2" v-for="doc in list">
            <button class="btn btn-block btn-outline-secondary shadow-sm" @click="choose(doc.name);getDocData(doc.name);removeTimeChoose()">{{ doc.name }}</button>
        </div>
    </div>

    <!--时间表-->
    <h3 class="" style="padding-left: 20%">选择时间</h3>
    <table id="doc_table" class="table table-bordered" style="display: none;width: 80%;margin-left: 10%">

        <tr class="" style="color:whitesmoke;background-color: #f0ad4e;font-size: 1rem">
            <th style="width: 10%"><div style="font-size: 1.4rem;padding-top: 20px"><p class="text-center" style="">医生</p></div></th>
            <th style="width: 70%"><div style="font-size: 1.4rem;padding-top: 20px"><p class="text-center" style="">时间安排</p></div></th>
        </tr>
        <tr v-for="(d,i) in doctor_data.data">

            <td class="text-center" style="padding-top: 10rem;background-color: #b94a48;">
                <h5 style="color: whitesmoke">{{d.name}}</h5>
            </td>

            <td style="padding: 0 0 0 0">
                <table style="width: 100%;">
                    <tr style="background-color: #ade5ff">
                        <th style="width: 10%"><p class="text-center" style="font-size: 1rem">时间段</p></th>
                        <th style="width: 10%"><p class="text-center" style="font-size: 1rem">{{ date1 }}</p></th>
                        <th style="width: 10%"><p class="text-center" style="font-size: 1rem">{{ date2 }}</p></th>
                        <th style="width: 10%"><p class="text-center" style="font-size: 1rem">{{ date3 }}</p></th>
                        <th style="width: 10%"><p class="text-center" style="font-size: 1rem">{{ date4 }}</p></th>
                        <th style="width: 10%"><p class="text-center" style="font-size: 1rem">{{ date5 }}</p></th>
                        <th style="width: 10%"><p class="text-center" style="font-size: 1rem">{{ date6 }}</p></th>
                        <th style="width: 10%"><p class="text-center" style="font-size: 1rem">{{ date7 }}</p></th>
                    </tr>

                    <tr>
                        <td class="text-center a_center" style="padding-top: 40px;background-color: lavenderblush">
                            <h5 >上午</h5>
                        </td>
                        <td class="text-center" style="width: 10%" v-for="(doc,i) in d.morning">
                            <div class="text-center" v-if="doc != '0'"><a href="#doc_table" @click="chooseTime(i,'早上')"><h5 style="color:#288cff"> 在岗 </h5></a></div>
                            <div class="text-center" v-if="doc === '0'"><h5 style="color:#288cff"> - </h5></div>
                        </td>
                    </tr>
                </table>
                <table style="width: 100%;">
                    <tr>
                        <td style="width: 10%;background-color: lightyellow">
                            <h5 class="text-center" style="padding-top: 40px;">下午</h5>
                        </td>
                        <td class="text-center" style="width: 10%" v-for="(doc,i) in d.afternoon">
                            <div class="text-center" v-if="doc != '0'"><a href="#doc_table" @click="chooseTime(i,'中午')"><h5 style="color:#288cff"> 在岗 </h5></a></div>
                            <div v-else="doc === '0'"><h5 style="color:#288cff" class="text-center"> - </h5></div>
                        </td>
                    </tr>
                </table>
                <table style="width: 100%">
                    <tr>
                        <td style="width: 10%;background-color: lightcyan">
                            <h5 class="text-center" style="padding-top: 40px">晚上</h5>
                        </td>
                        <td class="text-center" style="width: 10%" v-for="(doc,i) in d.night">
                            <div class="text-center" v-if="doc != '0'"><a href="#doc_table" @click="chooseTime(i,'晚上')"><h5 style="color:#288cff"> 在岗 </h5></a></div>
                            <div class="text-center" v-if="doc === '0'"><h5 style="color:#288cff"> - </h5></div>
                        </td>
                    </tr>
                </table>
            </td>

        </tr>
    </table>


    <!--显示选择信息-->
    <div class="home_inter_part" style="margin-left: 21%">
        <h4 style="color: #f0ad4e;">您选择了：</h4>
        <h5 style="color: #0065e8 ">
            <span id="dpm_choose"></span>
            <span id="dpm_choose_describe" style="display: none">  的  </span>
            <span id="doc_choose"></span>
            <span id="doc_choose_describe" style="display: none">  医生  </span>
            <span id="time_choose_describe" style="display: none"></span>
        </h5>
    </div>

    <!--输入信息框-->
    <div class="justify-content-center container-fluid" style="width: 60%">
        <form>
            <h3>请输入您的信息</h3>
            <div class="input-group mb-3">
                <div class="input-group-append">
                    <span class="input-group-text" style="padding: 0 1rem 0 1rem">姓名</span>
                </div>
                <input type="text" class="form-control" AUTOCOMPLETE="OFF" id="name">
            </div>
            <div class="input-group mb-3">
                <div class="input-group-append">
                    <span class="input-group-text" style="padding: 0 1rem 0 1rem">身份证号</span>
                </div>
                <input type="text" class="form-control" placeholder="" AUTOCOMPLETE="OFF" id="ID">
            </div>
            <div class="input-group mb-3">
                <div class="input-group-append">
                    <span class="input-group-text" style="padding: 0 1rem 0 1rem">联系电话</span>
                </div>
                <input type="text" class="form-control" placeholder="" AUTOCOMPLETE="OFF" id="phone">
            </div>
            <!--todo 写好模态框-->
            <button type="button" class="btn-primary btn btn-sm" data-toggle="modal" data-target="#myModal" @click="setAllInfo()">
                挂号
            </button>
            <!--模态框-->
            <div class="modal fade" id="myModal" style="margin-top: 10rem">
                <div class="modal-dialog">
                    <div class="modal-content">

                        <!-- 模态框头部 -->
                        <div class="modal-header">
                            <h4 class="modal-title">确认信息</h4>
                            <button type="button" class="close" data-dismiss="modal"><p style="color:lightcoral;">x</p></button>
                        </div>

                        <!-- 模态框主体 -->
                        <div class="modal-body">
                            <h5><span>科室：</span><span>{{ dpm }}</span></h5><br>
                            <h5><span>医生：</span><span>{{ doc }}</span></h5><br>
                            <h5><span>时间：</span><span>{{ Puretime }}</span></h5><br>
                            <h5><span>姓名：</span><span>{{ name }}</span></h5><br>
                            <h5><span>电话：</span><span>{{ phone }}</span></h5><br>
                            <h5><span>身份证号：</span><span>{{ Info }}</span></h5>
                        </div>

                        <!-- 模态框底部 -->
                        <div class="modal-footer">
                            <button type="button" class="btn-primary btn btn-sm" data-dismiss="modal" @click="Preserve();">
                                确认并挂号
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <div id="Msg" style="display: none">
        <h5 class="text-center" style="color: red;margin-top: 0.5rem">{{ msg }}</h5>
    </div>
</div>



<!--底部导航栏-->
<div class="container-fluid no_padding" style="width: 100%;max-width: 2200px">
    <footer class="pt-5 pb-3 footer footer-dark" style="background-color: #f0ad4e;color: black">
        <div class="container" >
            <div class="row">
                <div class="col-12 col-md-4">
                    <div class="pr-lg-5">
                        <h1 class="heading h6 text-uppercase font-weight-700 mb-3"><strong>课程设计</strong> by sun,on99</h1>
                        <p> 此处可以添加一些医院的信息地址邮编啥的</p>
                        <p>地址：南京市玄武区孝陵卫南京理工大学</p>
                        <p>邮编：000000</p>
                        <p>邮箱:666@gmail.com</p>
                        <p>电话:123456789</p>
                    </div>
                </div>
                <div class="col-6 col-md">
                    <h5 class="heading h6 text-uppercase font-weight-700 mb-3">友情链接</h5>
                    <ul class="list-unstyled text-small">
                        <li><a class="" href="http://www.china-pharmacy.com/" style="color: black">中国药房</a></li>
                        <li><a class="" href="https://fuwu.nhsa.gov.cn/" style="color: black">国家医保服务平台</a></li>
                        <li><a class="" href="https://www.yaozh.com/" style="color: black">药智网</a></li>
                        <li><a class="" href="http://www.a-hospital.com/" style="color: black">a+医学百科</a></li>
                        <li><a class="" href="https://www.mvyxws.com/" style="color: black">医学微视</a></li>
                    </ul>
                </div>
                <div class="col-12 col-md-4">
                    <div class="pr-lg-5">
                        <h1 class="heading h6 text-uppercase font-weight-700 mb-3"><strong>课程设计</strong> by sun,on99</h1>
                        <p>Copyright 晖神医院 All Rights Reserved.</p>
                        <p>本站内容仅供参考，不作为诊断及医疗依据</p>
                        <p>京ICP 备 xxx号</p>
                        <p>文保网安备案号：xxxxxxx</p>
                        <p>京卫网审字【xxxx】第xxx号</p>
                        <p>网站建设：on99，lwindsy</p>

                    </div>
                </div>
            </div>
            <hr>
            <div class="d-flex align-items-center">
              <span class="">
                &copy; 2022 <a href="https://cs.njust.edu.cn" class="footer-link" target="_blank">njust cs faculty</a>. All rights reserved.
              </span>
            </div>
        </div>
    </footer>
</div>

<!-引入的js-->
<script src="../assets/js/vendor/jquery.min.js"></script>
<script src="../assets/bootstrap-4.6.1-dist/bootstrap-4.6.1/dist/js/bootstrap.js"></script>
<script src="../assets/js/axios-0.18.0.js" type="text/javascript"></script>
<script src="../assets/js/kiton99/vue.global.js"></script>

<!--自个写的js-->
<script src="../assets/js/For_Preserve.js" type="module"></script>
<script src="../assets/js/For_everything.js"></script>

</body>
</html>